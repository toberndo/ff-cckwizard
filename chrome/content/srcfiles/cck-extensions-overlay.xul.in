<?xml version="1.0" encoding="UTF-8"?>
<overlay id="cck-extensions-overlay"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
    <script type="application/x-javascript;version=1.7">
    <![CDATA[
      function CCKStartup() {
          var CCKTemplateBuilderListener = {
            willRebuild: function(aBuilder) {
            },
            didRebuild: function(aBuilder) {
              if (gView == "extensions") {
                CCKExtensions();
              }
            }
          };
          document.getElementById("extensionsView").builder.addListener(CCKTemplateBuilderListener);
      }
      function CCKExtensions() {
          var richlistbox = document.getElementById("extensionsView");
          richlistitems = richlistbox.getElementsByTagName("richlistitem");
          for (var i=0; i < richlistitems.length; i++) {
            if (richlistitems[i].getAttribute("locked") == "true") {
              richlistitems[i].hidden = true;
            }
          }
      }
    ]]>
    </script>
<window xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         id="extensionsManager"
         onload="CCKStartup();Startup();"/>
    <radiogroup id="viewGroup">
        <radio id="extensions-view"
               oncommand="showView('extensions');CCKExtensions();"/>
    </radiogroup>
</overlay>